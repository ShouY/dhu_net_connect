# DHU Campus Network Automatic Connect

用于自动连接校园网的脚本。通过设置定时执行，可以在校园网断开时自动重连。

## 一、运行环境

该脚本使用Python3，需要**requests**包。如果没有安装requests包，执行：

```bash
pip3 install requests
```

## 二、示例

### 1. 单次连接

- 命令行启动。将下列命令行添加到定时任务：

```Bash
python3 [文件路径]\dhu_connect.py 校园网账号 校园网密码 10 2
```

脚本会重试10次连接（最多11次），每次暂停2秒，直到成功连接或者重试次数用尽。
> 添加自动执行该命令行可以实现开机后自动连接。

- 脚本调用。

``` Python
from dhu_connect import try_connect
try_connect(校园网账号,密码,10,2)
```

### 2. 维持网络连接

有时需要维持网络可以访问公网，例如在每天凌晨校园网自动断开后重连。`handle_dhu_disconnect.py`可以在一段时间内维持网络连接，在断开网络后自动重连。

以Windows为例介绍使用方法：

- 打开“任务计划程序”，添加新的基本任务
- 设置为0:00（校园网有线网连接默认断开时间）启动。
- 新建操作
  - 在“程序或脚本”中输入python.exe的完整路径。
  - “添加参数”中内容与采用命令行调用时的参数相同。
  - “起始于”(可选)中输入程序的启动路径。日志文件默认存放在该目录下。


## 三、关于日志

日志文件默认存放于程序的调用路径中。可以在`dhu_connect.py`中修改。
